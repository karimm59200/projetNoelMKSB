<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
      integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./distribution.css" />
    <title>Distribution</title>
  </head>

  <body>
    <main>
      <header>
        <p id="countdown"></p>
      </header>
      <!-- SNOW -->
      <div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
      </div>
      <!-- SNOW -->

      <!-- BENOIT -->
      <!-- <section id="cadeaux">
            <div class="">
                <div class="row" id="cadeaux-anim">
                  <div class="col-12 mt-5 d-flex justify-content-center">
                    <div class="box">
                      <div class="box-body">
                        <img class="img" id="img-cadeaux" src="./img/x-mas.png">
                        <div class="box-lid">
                          
                          <div class="box-bowtie"></div>
                   

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
        </section> -->
      <!-- BENOIT -->
      <!-- <div class="d-flex justify-content-center">
          <div class="btn-noel"><a href="./distribution.html" class="button-noel mt-4">Effectuer le tirage au sort</a></div> 
        </div> -->
       
        <section class="tirage">
          <div class="d-flex justify-content-around mb-5">
              <div id="donneur">Donneur</div>
              <div id="receveur">Receveur</div>
          </div>
          <div class="d-flex justify-content-around mb-5">
              <div><i class="fas fa-arrow-down"></i></div>
              <div><i class="fas fa-arrow-down"></i></div>

          </div>
        </div>
        
        <div>
          <div class="d-flex justify-content-around">
            <div id="donne"></div>
            <div id="recev"></div>
          </div>
        </div>
        <div class="d-flex justify-content-center mt-5">
          <button
            id="tas1"
            class="d-flex justify-content-center"
            onclick="tiragePersonnes(array_name)"
          >
            <section id="cadeaux">
              <div class="">
                <div class="row" id="cadeaux-anim">
                  <div class="col-12 mt-5 d-flex justify-content-center">
                    <div class="box">
                      <div class="box-body">
                        <img
                          class="img"
                          id="img-cadeaux"
                          src="./img/x-mas.png"
                        />
                        <div class="box-lid">
                          <div class="box-bowtie"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </button>
        </div>
      </section>

      <footer class="footer">
        <div>
        
      </div>
        <div class="div-conteneur">
          <div class="conteneur">
            <span>Thème 1 / Thème 2</span>
            <input type="checkbox" class="checkbox" id="chk" />
            <label class="label" for="chk">
              <i class="fas fa-circle" id="circleBlue"></i>
              <i class="fas fa-circle" id="circleRed"></i>
              <div class="ball"></div>
            </label>
          </div>

        </div>
        <div id="retour">
          <a href="./Home.html">
            <button class="btn btn-primary">Retour à la page d'acceuil</button>
            
          </a>
        </div>
<input type="button" class="btn btn-primary" value="Retour" id="retourarr" onclick="history.go(-1)" />
        

      </footer>
    </main>
    <script>
      // fetch("./formulaireInscriptionNoel.php")
      // .then(function (result) {
      // 	if (result.status === 200) {
      // 		return result.json();
      // 	}
      // }).then(function (value) {
      //   let form = value;
      // }).catch(function (error) {
      //   console.log(error);
      // });

      // tirage au sort //////////////////////////////////////////////////////////////////

      let donne = document.querySelector("#donne");
      let recev = document.querySelector("#recev");
      let array_nameReceveur = [];
      let Utilisateurs = [
        {
          id: "1",
          name: "Bouchra",
        },
        {
          id: "2",
          name: "Alexis",
        },
        {
          id: "3",
          name: "Hanane",
        },
        {
          id: "4",
          name: "Mehdi",
        },
        {
          id: "5",
          name: "Olivier",
        },
        {
          id: "7",
          name: "Remi",
        },
        {
          id: "8",
          name: "Karim",
        },
        {
          id: "9",
          name: "Nelly",
        },
        {
          id: "10",
          name: "Xavier",
        },
        {
          id: "11",
          name: "Benoit",
        },
        {
          id: "12",
          name: "Samuel",
        },
        {
          id: "13",
          name: "Baptiste",
        },
        {
          id: "14",
          name: "Yacine",
        },
        {
          id: "15",
          name: "Messaoud",
        },
        {
          id: "16",
          name: "Ahmed",
        },
        {
          id: "17",
          name: "Gaetan",
        },
        {
          id: "18",
          name: "Simon",
        },
      ];

      let array_name = [];

      function DefArray() {
        Utilisateurs.forEach((v) => {
          array_name.push(v.name);
          array_nameReceveur.push(v.name);
        });
      }

      function tiragePersonnes(ArrayName) {
        let terminer = false;
        let number = randomNumber(ArrayName.length);
        let number2 = randomNumber(ArrayName.length);
        let donneur;
        let receveur;
        donneur = ArrayName[number];
        receveur = array_nameReceveur[number2];

        if (ArrayName.length === 0) {
          donneur = "";
          receveur = "";
          terminer = true;
        }
        console.log(ArrayName, array_nameReceveur);
        console.log(donneur, receveur);
        if (terminer === false) {
          if (donneur === receveur) {
            // console.log("if passé");
            while (donneur === receveur) {
              //   console.log("while passé", donneur, receveur);
              number2 = randomNumber(ArrayName.length);
              receveur = array_nameReceveur[number2];
              //   console.log("while passé", donneur, receveur);
            }
          }

          array_nameReceveur.splice(number2, 1);
          ArrayName.splice(number, 1);

          donne.innerHTML = donneur;
          recev.innerHTML = receveur;
        }
      }

      function randomNumber(max) {
        return Math.floor(Math.random() * max);
      }

      DefArray();

      tiragePersonnes(array_name);

      console.log(array_nameReceveur, array_name);
    </script>
    <script src="./script.js"></script>
    <script src="theme.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
